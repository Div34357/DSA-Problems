class FindElements {
public:
    unordered_map <int, bool> m;
    
    void recover(TreeNode* root, int value){
        if(root == NULL){
            return;
        }
        root->val = value;
        m[root->val] = true;
        
        if(root->left){
            recover(root->left, 2*value + 1);
        }
        if(root->right){
            recover(root->right, 2*value + 2);
        }
    }
    
    FindElements(TreeNode* root) {
        recover(root, 0);
    }
    
    bool find(int target) {
        if(m[target]){
            return true;
        }
        return false;
    }
};
